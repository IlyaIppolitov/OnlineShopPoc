2023-06-25 18:26:50.138 +03:00 [INF] Email sent to IppolitovIS@yandex.ru
2023-06-25 18:26:50.158 +03:00 [INF] Sending email to IppolitovIS@yandex.ru, with Акции!, Промо акции!.
2023-06-25 18:26:50.267 +03:00 [INF] Now listening on: https://localhost:7142
2023-06-25 18:26:50.268 +03:00 [INF] Now listening on: http://localhost:5041
2023-06-25 18:26:50.269 +03:00 [INF] App Started
2023-06-25 18:26:50.270 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-25 18:26:50.270 +03:00 [INF] Hosting environment: Development
2023-06-25 18:26:50.271 +03:00 [INF] Content root path: D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc
2023-06-25 18:26:50.600 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7142/swagger/index.html - -
2023-06-25 18:26:50.726 +03:00 [INF] Email sent from III@yandex.ru
2023-06-25 18:26:50.726 +03:00 [INF] Email to IppolitovIS@yandex.ru was sent in 567 ms.
2023-06-25 18:26:50.727 +03:00 [INF] Email sent to IppolitovIS@yandex.ru in 593
2023-06-25 18:26:50.748 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7142/swagger/index.html - - - 200 - text/html;charset=utf-8 150.4791ms
2023-06-25 18:26:50.936 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7142/swagger/v1/swagger.json - -
2023-06-25 18:26:50.950 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2023-06-25 18:26:51.085 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7142/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 149.0389ms
2023-06-25 18:35:14.825 +03:00 [INF] Application is shutting down...
2023-06-25 18:35:14.835 +03:00 [INF] Shut down complete
2023-06-25 18:35:31.002 +03:00 [INF] Email sent to IppolitovIS@yandex.ru
2023-06-25 18:35:31.020 +03:00 [INF] Sending email to IppolitovIS@yandex.ru, with Акции!, Промо акции!.
2023-06-25 18:35:31.227 +03:00 [INF] Now listening on: https://localhost:7142
2023-06-25 18:35:31.229 +03:00 [INF] Now listening on: http://localhost:5041
2023-06-25 18:35:31.230 +03:00 [INF] App Started
2023-06-25 18:35:31.230 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-25 18:35:31.231 +03:00 [INF] Hosting environment: Development
2023-06-25 18:35:31.231 +03:00 [INF] Content root path: D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc
2023-06-25 18:35:31.433 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7142/swagger/index.html - -
2023-06-25 18:35:31.585 +03:00 [INF] Email sent from IIIIII@yandex.ru
2023-06-25 18:35:31.586 +03:00 [INF] Email to IppolitovIS@yandex.ru was sent in 564 ms.
2023-06-25 18:35:31.587 +03:00 [INF] Email sent to IppolitovIS@yandex.ru in 589
2023-06-25 18:35:31.610 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7142/swagger/index.html - - - 200 - text/html;charset=utf-8 177.9727ms
2023-06-25 18:35:31.733 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7142/swagger/v1/swagger.json - -
2023-06-25 18:35:31.739 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2023-06-25 18:35:31.859 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7142/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 125.9411ms
2023-06-25 18:39:37.975 +03:00 [INF] Email sent to IppolitovIS@yandex.ru
2023-06-25 18:39:37.997 +03:00 [INF] Sending email to IppolitovIS@yandex.ru, with Акции!, Промо акции!.
2023-06-25 18:39:38.211 +03:00 [INF] Now listening on: https://localhost:7142
2023-06-25 18:39:38.211 +03:00 [INF] Now listening on: http://localhost:5041
2023-06-25 18:39:38.212 +03:00 [INF] App Started
2023-06-25 18:39:38.213 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-25 18:39:38.213 +03:00 [INF] Hosting environment: Development
2023-06-25 18:39:38.214 +03:00 [INF] Content root path: D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc
2023-06-25 18:39:38.561 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7142/swagger/index.html - -
2023-06-25 18:39:38.724 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7142/swagger/index.html - - - 200 - text/html;charset=utf-8 163.9363ms
2023-06-25 18:39:38.757 +03:00 [INF] Email sent from IIIIII@yandex.ru
2023-06-25 18:39:38.758 +03:00 [INF] Email to IppolitovIS@yandex.ru was sent in 760 ms.
2023-06-25 18:39:38.758 +03:00 [INF] Email sent to IppolitovIS@yandex.ru in 789
2023-06-25 18:39:38.847 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7142/swagger/v1/swagger.json - -
2023-06-25 18:39:38.854 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2023-06-25 18:39:38.950 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7142/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 103.8092ms
2023-06-25 18:40:04.465 +03:00 [INF] Sending email to IppolitovIS@yandex.ru, with Приложение работает, Приложение потребляет 82587648 байт!.
2023-06-25 18:40:04.664 +03:00 [INF] Email sent from IIIIII@yandex.ru
2023-06-25 18:40:04.664 +03:00 [INF] Email to IppolitovIS@yandex.ru was sent in 198 ms.
2023-06-25 18:40:38.958 +03:00 [INF] Sending email to IppolitovIS@yandex.ru, with Приложение работает, Приложение потребляет 82726912 байт!.
2023-06-25 18:40:39.156 +03:00 [INF] Email sent from IIIIII@yandex.ru
2023-06-25 18:40:39.156 +03:00 [INF] Email to IppolitovIS@yandex.ru was sent in 197 ms.
2023-06-25 18:41:33.603 +03:00 [INF] Email sent to IppolitovIS@yandex.ru
2023-06-25 18:41:33.623 +03:00 [INF] Sending email to IppolitovIS@yandex.ru, with Акции!, Промо акции!.
2023-06-25 18:41:33.729 +03:00 [INF] Now listening on: https://localhost:7142
2023-06-25 18:41:33.729 +03:00 [INF] Now listening on: http://localhost:5041
2023-06-25 18:41:33.730 +03:00 [INF] App Started
2023-06-25 18:41:33.730 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-25 18:41:33.731 +03:00 [INF] Hosting environment: Development
2023-06-25 18:41:33.732 +03:00 [INF] Content root path: D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc
2023-06-25 18:41:33.984 +03:00 [INF] Email sent from I@yandex.ru
2023-06-25 18:41:33.984 +03:00 [INF] Email to IppolitovIS@yandex.ru was sent in 360 ms.
2023-06-25 18:41:33.985 +03:00 [INF] Email sent to IppolitovIS@yandex.ru in 386
2023-06-25 18:41:34.133 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7142/swagger/index.html - -
2023-06-25 18:41:34.283 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7142/swagger/index.html - - - 200 - text/html;charset=utf-8 150.7200ms
2023-06-25 18:41:34.412 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7142/swagger/v1/swagger.json - -
2023-06-25 18:41:34.419 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2023-06-25 18:41:34.515 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7142/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 103.7999ms
2023-06-25 18:42:03.615 +03:00 [INF] Sending email to IppolitovIS@yandex.ru, with Приложение работает, Приложение потребляет 83136512 байт!.
2023-06-25 18:42:03.816 +03:00 [INF] Email sent from IIIIIIII@yandex.ru
2023-06-25 18:42:03.817 +03:00 [INF] Email to IppolitovIS@yandex.ru was sent in 201 ms.
2023-06-25 18:42:33.838 +03:00 [INF] Sending email to IppolitovIS@yandex.ru, with Приложение работает, Приложение потребляет 83148800 байт!.
2023-06-25 18:42:34.047 +03:00 [INF] Email sent from YYYYYY@yandex.ru
2023-06-25 18:42:34.048 +03:00 [INF] Email to IppolitovIS@yandex.ru was sent in 209 ms.
2023-06-25 18:42:38.560 +03:00 [INF] Application is shutting down...
2023-06-25 18:42:38.574 +03:00 [INF] Shut down complete
2023-06-25 18:57:09.262 +03:00 [INF] Email sent to IppolitovIS@yandex.ru
2023-06-25 18:57:09.281 +03:00 [INF] Sending email to IppolitovIS@yandex.ru, with Акции!, Промо акции!.
2023-06-25 18:57:09.491 +03:00 [INF] Now listening on: https://localhost:7142
2023-06-25 18:57:09.492 +03:00 [INF] Now listening on: http://localhost:5041
2023-06-25 18:57:09.493 +03:00 [INF] App Started
2023-06-25 18:57:09.493 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-25 18:57:09.494 +03:00 [INF] Hosting environment: Development
2023-06-25 18:57:09.494 +03:00 [INF] Content root path: D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc
2023-06-25 18:57:09.711 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7142/swagger/index.html - -
2023-06-25 18:57:09.888 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7142/swagger/index.html - - - 200 - text/html;charset=utf-8 177.7351ms
2023-06-25 18:57:10.022 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7142/swagger/v1/swagger.json - -
2023-06-25 18:57:10.031 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2023-06-25 18:57:10.146 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7142/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 124.7227ms
2023-06-25 20:14:32.942 +03:00 [INF] Sending email to IppolitovIS@yandex.ru, with Акции!, Промо акции!.
2023-06-25 20:14:33.074 +03:00 [INF] Now listening on: https://localhost:7142
2023-06-25 20:14:33.076 +03:00 [INF] Now listening on: http://localhost:5041
2023-06-25 20:14:33.077 +03:00 [INF] App Started
2023-06-25 20:14:33.077 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-25 20:14:33.078 +03:00 [INF] Hosting environment: Development
2023-06-25 20:14:33.079 +03:00 [INF] Content root path: D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc
2023-06-25 20:14:33.426 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7142/swagger/index.html - -
2023-06-25 20:14:33.570 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7142/swagger/index.html - - - 200 - text/html;charset=utf-8 144.9839ms
2023-06-25 20:14:33.715 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7142/swagger/v1/swagger.json - -
2023-06-25 20:14:33.722 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2023-06-25 20:14:33.816 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7142/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 100.8157ms
2023-06-25 20:14:41.450 +03:00 [WRN] Повторная отправка сообщения: IppolitovIS@yandex.ru, номер {counter+1}
System.Net.Sockets.SocketException (10061): Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.TaskToApm.End(IAsyncResult asyncResult)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, CancellationToken cancellationToken)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, Int32 timeout, CancellationToken cancellationToken)
   at MailKit.MailService.ConnectNetworkAsync(String host, Int32 port, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.ConnectAsync(String host, Int32 port, SecureSocketOptions options, CancellationToken cancellationToken)
   at OnlineShopPoc.MailKitSmtpEmailSender.EnsureConnectedAndAuthentificatedAsync() in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 55
   at OnlineShopPoc.MailKitSmtpEmailSender.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 46
   at OnlineShopPoc.EmailSenderLoggingDecorator.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\EmailSenderLoggingDecorator.cs:line 24
   at OnlineShopPoc.SalesNotificatorBackgroundService.ExecuteAsync(CancellationToken cancellationToken) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\SalesNotificatorBackgroundService.cs:line 38
2023-06-25 20:14:41.468 +03:00 [INF] Sending email to IppolitovIS@yandex.ru, with Акции!, Промо акции!.
2023-06-25 20:14:49.908 +03:00 [WRN] Повторная отправка сообщения: IppolitovIS@yandex.ru, номер {counter+1}
System.Net.Sockets.SocketException (10061): Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.TaskToApm.End(IAsyncResult asyncResult)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, CancellationToken cancellationToken)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, Int32 timeout, CancellationToken cancellationToken)
   at MailKit.MailService.ConnectNetworkAsync(String host, Int32 port, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.ConnectAsync(String host, Int32 port, SecureSocketOptions options, CancellationToken cancellationToken)
   at OnlineShopPoc.MailKitSmtpEmailSender.EnsureConnectedAndAuthentificatedAsync() in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 55
   at OnlineShopPoc.MailKitSmtpEmailSender.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 46
   at OnlineShopPoc.EmailSenderLoggingDecorator.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\EmailSenderLoggingDecorator.cs:line 24
   at OnlineShopPoc.SalesNotificatorBackgroundService.ExecuteAsync(CancellationToken cancellationToken) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\SalesNotificatorBackgroundService.cs:line 38
2023-06-25 20:14:49.914 +03:00 [INF] Sending email to IppolitovIS@yandex.ru, with Акции!, Промо акции!.
2023-06-25 20:14:58.392 +03:00 [WRN] Повторная отправка сообщения: IppolitovIS@yandex.ru, номер {counter+1}
System.Net.Sockets.SocketException (10061): Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.TaskToApm.End(IAsyncResult asyncResult)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, CancellationToken cancellationToken)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, Int32 timeout, CancellationToken cancellationToken)
   at MailKit.MailService.ConnectNetworkAsync(String host, Int32 port, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.ConnectAsync(String host, Int32 port, SecureSocketOptions options, CancellationToken cancellationToken)
   at OnlineShopPoc.MailKitSmtpEmailSender.EnsureConnectedAndAuthentificatedAsync() in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 55
   at OnlineShopPoc.MailKitSmtpEmailSender.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 46
   at OnlineShopPoc.EmailSenderLoggingDecorator.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\EmailSenderLoggingDecorator.cs:line 24
   at OnlineShopPoc.SalesNotificatorBackgroundService.ExecuteAsync(CancellationToken cancellationToken) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\SalesNotificatorBackgroundService.cs:line 38
2023-06-25 20:14:58.397 +03:00 [ERR] Ошибка отправка сообщения: IppolitovIS@yandex.ru
System.Net.Sockets.SocketException (10061): Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.TaskToApm.End(IAsyncResult asyncResult)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, CancellationToken cancellationToken)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, Int32 timeout, CancellationToken cancellationToken)
   at MailKit.MailService.ConnectNetworkAsync(String host, Int32 port, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.ConnectAsync(String host, Int32 port, SecureSocketOptions options, CancellationToken cancellationToken)
   at OnlineShopPoc.MailKitSmtpEmailSender.EnsureConnectedAndAuthentificatedAsync() in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 55
   at OnlineShopPoc.MailKitSmtpEmailSender.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 46
   at OnlineShopPoc.EmailSenderLoggingDecorator.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\EmailSenderLoggingDecorator.cs:line 24
   at OnlineShopPoc.SalesNotificatorBackgroundService.ExecuteAsync(CancellationToken cancellationToken) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\SalesNotificatorBackgroundService.cs:line 38
2023-06-25 20:15:02.955 +03:00 [INF] Sending email to IppolitovIS@yandex.ru, with Приложение работает, Приложение потребляет 84361216 байт!.
2023-06-25 20:15:11.382 +03:00 [ERR] BackgroundService failed
System.Net.Sockets.SocketException (10061): Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.TaskToApm.End(IAsyncResult asyncResult)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, CancellationToken cancellationToken)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, Int32 timeout, CancellationToken cancellationToken)
   at MailKit.MailService.ConnectNetworkAsync(String host, Int32 port, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.ConnectAsync(String host, Int32 port, SecureSocketOptions options, CancellationToken cancellationToken)
   at OnlineShopPoc.MailKitSmtpEmailSender.EnsureConnectedAndAuthentificatedAsync() in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 55
   at OnlineShopPoc.MailKitSmtpEmailSender.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 46
   at OnlineShopPoc.EmailSenderLoggingDecorator.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\EmailSenderLoggingDecorator.cs:line 24
   at OnlineShopPoc.AppStartedNotificatorBackgroundService.ExecuteAsync(CancellationToken stoppingToken) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\AppStartedNotificatorBackgroundService.cs:line 40
   at OnlineShopPoc.AppStartedNotificatorBackgroundService.ExecuteAsync(CancellationToken stoppingToken) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\AppStartedNotificatorBackgroundService.cs:line 41
   at OnlineShopPoc.AppStartedNotificatorBackgroundService.ExecuteAsync(CancellationToken stoppingToken) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\AppStartedNotificatorBackgroundService.cs:line 31
   at Microsoft.Extensions.Hosting.Internal.Host.TryExecuteBackgroundServiceAsync(BackgroundService backgroundService)
2023-06-25 20:15:11.392 +03:00 [FTL] The HostOptions.BackgroundServiceExceptionBehavior is configured to StopHost. A BackgroundService has thrown an unhandled exception, and the IHost instance is stopping. To avoid this behavior, configure this to Ignore; however the BackgroundService will not be restarted.
System.Net.Sockets.SocketException (10061): Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.TaskToApm.End(IAsyncResult asyncResult)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, CancellationToken cancellationToken)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, Int32 timeout, CancellationToken cancellationToken)
   at MailKit.MailService.ConnectNetworkAsync(String host, Int32 port, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.ConnectAsync(String host, Int32 port, SecureSocketOptions options, CancellationToken cancellationToken)
   at OnlineShopPoc.MailKitSmtpEmailSender.EnsureConnectedAndAuthentificatedAsync() in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 55
   at OnlineShopPoc.MailKitSmtpEmailSender.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 46
   at OnlineShopPoc.EmailSenderLoggingDecorator.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\EmailSenderLoggingDecorator.cs:line 24
   at OnlineShopPoc.AppStartedNotificatorBackgroundService.ExecuteAsync(CancellationToken stoppingToken) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\AppStartedNotificatorBackgroundService.cs:line 40
   at OnlineShopPoc.AppStartedNotificatorBackgroundService.ExecuteAsync(CancellationToken stoppingToken) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\AppStartedNotificatorBackgroundService.cs:line 41
   at OnlineShopPoc.AppStartedNotificatorBackgroundService.ExecuteAsync(CancellationToken stoppingToken) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\AppStartedNotificatorBackgroundService.cs:line 31
   at Microsoft.Extensions.Hosting.Internal.Host.TryExecuteBackgroundServiceAsync(BackgroundService backgroundService)
2023-06-25 20:15:11.398 +03:00 [INF] Application is shutting down...
2023-06-25 20:15:11.409 +03:00 [INF] Shut down complete
2023-06-25 20:15:17.785 +03:00 [INF] Sending email to IppolitovIS@yandex.ru, with Акции!, Промо акции!.
2023-06-25 20:15:17.914 +03:00 [INF] Now listening on: https://localhost:7142
2023-06-25 20:15:17.916 +03:00 [INF] Now listening on: http://localhost:5041
2023-06-25 20:15:17.917 +03:00 [INF] App Started
2023-06-25 20:15:17.917 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-25 20:15:17.918 +03:00 [INF] Hosting environment: Development
2023-06-25 20:15:17.918 +03:00 [INF] Content root path: D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc
2023-06-25 20:15:18.305 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7142/swagger/index.html - -
2023-06-25 20:15:18.474 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7142/swagger/index.html - - - 200 - text/html;charset=utf-8 169.8985ms
2023-06-25 20:15:18.603 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7142/swagger/v1/swagger.json - -
2023-06-25 20:15:18.610 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2023-06-25 20:15:18.706 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7142/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 102.7953ms
2023-06-25 20:15:26.301 +03:00 [WRN] Повторная отправка сообщения: IppolitovIS@yandex.ru, номер 1
System.Net.Sockets.SocketException (10061): Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.TaskToApm.End(IAsyncResult asyncResult)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, CancellationToken cancellationToken)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, Int32 timeout, CancellationToken cancellationToken)
   at MailKit.MailService.ConnectNetworkAsync(String host, Int32 port, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.ConnectAsync(String host, Int32 port, SecureSocketOptions options, CancellationToken cancellationToken)
   at OnlineShopPoc.MailKitSmtpEmailSender.EnsureConnectedAndAuthentificatedAsync() in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 55
   at OnlineShopPoc.MailKitSmtpEmailSender.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 46
   at OnlineShopPoc.EmailSenderLoggingDecorator.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\EmailSenderLoggingDecorator.cs:line 24
   at OnlineShopPoc.SalesNotificatorBackgroundService.ExecuteAsync(CancellationToken cancellationToken) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\SalesNotificatorBackgroundService.cs:line 38
2023-06-25 20:15:26.321 +03:00 [INF] Sending email to IppolitovIS@yandex.ru, with Акции!, Промо акции!.
2023-06-25 20:15:34.767 +03:00 [WRN] Повторная отправка сообщения: IppolitovIS@yandex.ru, номер 2
System.Net.Sockets.SocketException (10061): Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.TaskToApm.End(IAsyncResult asyncResult)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, CancellationToken cancellationToken)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, Int32 timeout, CancellationToken cancellationToken)
   at MailKit.MailService.ConnectNetworkAsync(String host, Int32 port, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.ConnectAsync(String host, Int32 port, SecureSocketOptions options, CancellationToken cancellationToken)
   at OnlineShopPoc.MailKitSmtpEmailSender.EnsureConnectedAndAuthentificatedAsync() in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 55
   at OnlineShopPoc.MailKitSmtpEmailSender.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 46
   at OnlineShopPoc.EmailSenderLoggingDecorator.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\EmailSenderLoggingDecorator.cs:line 24
   at OnlineShopPoc.SalesNotificatorBackgroundService.ExecuteAsync(CancellationToken cancellationToken) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\SalesNotificatorBackgroundService.cs:line 38
2023-06-25 20:15:34.773 +03:00 [INF] Sending email to IppolitovIS@yandex.ru, with Акции!, Промо акции!.
2023-06-25 20:15:43.226 +03:00 [WRN] Повторная отправка сообщения: IppolitovIS@yandex.ru, номер 3
System.Net.Sockets.SocketException (10061): Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.TaskToApm.End(IAsyncResult asyncResult)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, CancellationToken cancellationToken)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, Int32 timeout, CancellationToken cancellationToken)
   at MailKit.MailService.ConnectNetworkAsync(String host, Int32 port, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.ConnectAsync(String host, Int32 port, SecureSocketOptions options, CancellationToken cancellationToken)
   at OnlineShopPoc.MailKitSmtpEmailSender.EnsureConnectedAndAuthentificatedAsync() in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 55
   at OnlineShopPoc.MailKitSmtpEmailSender.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 46
   at OnlineShopPoc.EmailSenderLoggingDecorator.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\EmailSenderLoggingDecorator.cs:line 24
   at OnlineShopPoc.SalesNotificatorBackgroundService.ExecuteAsync(CancellationToken cancellationToken) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\SalesNotificatorBackgroundService.cs:line 38
2023-06-25 20:15:43.232 +03:00 [ERR] Ошибка отправка сообщения: IppolitovIS@yandex.ru
System.Net.Sockets.SocketException (10061): Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.TaskToApm.End(IAsyncResult asyncResult)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, CancellationToken cancellationToken)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, Int32 timeout, CancellationToken cancellationToken)
   at MailKit.MailService.ConnectNetworkAsync(String host, Int32 port, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.ConnectAsync(String host, Int32 port, SecureSocketOptions options, CancellationToken cancellationToken)
   at OnlineShopPoc.MailKitSmtpEmailSender.EnsureConnectedAndAuthentificatedAsync() in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 55
   at OnlineShopPoc.MailKitSmtpEmailSender.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 46
   at OnlineShopPoc.EmailSenderLoggingDecorator.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\EmailSenderLoggingDecorator.cs:line 24
   at OnlineShopPoc.SalesNotificatorBackgroundService.ExecuteAsync(CancellationToken cancellationToken) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\SalesNotificatorBackgroundService.cs:line 38
2023-06-25 20:15:47.792 +03:00 [INF] Sending email to IppolitovIS@yandex.ru, with Приложение работает, Приложение потребляет 84234240 байт!.
2023-06-25 20:15:56.209 +03:00 [ERR] BackgroundService failed
System.Net.Sockets.SocketException (10061): Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.TaskToApm.End(IAsyncResult asyncResult)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, CancellationToken cancellationToken)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, Int32 timeout, CancellationToken cancellationToken)
   at MailKit.MailService.ConnectNetworkAsync(String host, Int32 port, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.ConnectAsync(String host, Int32 port, SecureSocketOptions options, CancellationToken cancellationToken)
   at OnlineShopPoc.MailKitSmtpEmailSender.EnsureConnectedAndAuthentificatedAsync() in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 55
   at OnlineShopPoc.MailKitSmtpEmailSender.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 46
   at OnlineShopPoc.EmailSenderLoggingDecorator.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\EmailSenderLoggingDecorator.cs:line 24
   at OnlineShopPoc.AppStartedNotificatorBackgroundService.ExecuteAsync(CancellationToken stoppingToken) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\AppStartedNotificatorBackgroundService.cs:line 40
   at OnlineShopPoc.AppStartedNotificatorBackgroundService.ExecuteAsync(CancellationToken stoppingToken) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\AppStartedNotificatorBackgroundService.cs:line 41
   at OnlineShopPoc.AppStartedNotificatorBackgroundService.ExecuteAsync(CancellationToken stoppingToken) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\AppStartedNotificatorBackgroundService.cs:line 31
   at Microsoft.Extensions.Hosting.Internal.Host.TryExecuteBackgroundServiceAsync(BackgroundService backgroundService)
2023-06-25 20:15:56.215 +03:00 [FTL] The HostOptions.BackgroundServiceExceptionBehavior is configured to StopHost. A BackgroundService has thrown an unhandled exception, and the IHost instance is stopping. To avoid this behavior, configure this to Ignore; however the BackgroundService will not be restarted.
System.Net.Sockets.SocketException (10061): Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.TaskToApm.End(IAsyncResult asyncResult)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, CancellationToken cancellationToken)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, Int32 timeout, CancellationToken cancellationToken)
   at MailKit.MailService.ConnectNetworkAsync(String host, Int32 port, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.ConnectAsync(String host, Int32 port, SecureSocketOptions options, CancellationToken cancellationToken)
   at OnlineShopPoc.MailKitSmtpEmailSender.EnsureConnectedAndAuthentificatedAsync() in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 55
   at OnlineShopPoc.MailKitSmtpEmailSender.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 46
   at OnlineShopPoc.EmailSenderLoggingDecorator.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\EmailSenderLoggingDecorator.cs:line 24
   at OnlineShopPoc.AppStartedNotificatorBackgroundService.ExecuteAsync(CancellationToken stoppingToken) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\AppStartedNotificatorBackgroundService.cs:line 40
   at OnlineShopPoc.AppStartedNotificatorBackgroundService.ExecuteAsync(CancellationToken stoppingToken) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\AppStartedNotificatorBackgroundService.cs:line 41
   at OnlineShopPoc.AppStartedNotificatorBackgroundService.ExecuteAsync(CancellationToken stoppingToken) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\AppStartedNotificatorBackgroundService.cs:line 31
   at Microsoft.Extensions.Hosting.Internal.Host.TryExecuteBackgroundServiceAsync(BackgroundService backgroundService)
2023-06-25 20:15:56.221 +03:00 [INF] Application is shutting down...
2023-06-25 20:15:56.233 +03:00 [INF] Shut down complete
2023-06-25 20:17:13.096 +03:00 [INF] Sending email to IppolitovIS@yandex.ru, with Акции!, Промо акции!.
2023-06-25 20:17:13.222 +03:00 [INF] Now listening on: https://localhost:7142
2023-06-25 20:17:13.224 +03:00 [INF] Now listening on: http://localhost:5041
2023-06-25 20:17:13.225 +03:00 [INF] App Started
2023-06-25 20:17:13.225 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-25 20:17:13.226 +03:00 [INF] Hosting environment: Development
2023-06-25 20:17:13.226 +03:00 [INF] Content root path: D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc
2023-06-25 20:17:13.666 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7142/swagger/index.html - -
2023-06-25 20:17:13.819 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7142/swagger/index.html - - - 200 - text/html;charset=utf-8 154.2808ms
2023-06-25 20:17:13.943 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7142/swagger/v1/swagger.json - -
2023-06-25 20:17:13.950 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2023-06-25 20:17:14.043 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7142/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 99.7690ms
2023-06-25 20:17:21.630 +03:00 [WRN] Повторная отправка сообщения: IppolitovIS@yandex.ru, номер 1
System.Net.Sockets.SocketException (10061): Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.TaskToApm.End(IAsyncResult asyncResult)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, CancellationToken cancellationToken)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, Int32 timeout, CancellationToken cancellationToken)
   at MailKit.MailService.ConnectNetworkAsync(String host, Int32 port, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.ConnectAsync(String host, Int32 port, SecureSocketOptions options, CancellationToken cancellationToken)
   at OnlineShopPoc.MailKitSmtpEmailSender.EnsureConnectedAndAuthentificatedAsync() in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 55
   at OnlineShopPoc.MailKitSmtpEmailSender.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 46
   at OnlineShopPoc.EmailSenderLoggingDecorator.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\EmailSenderLoggingDecorator.cs:line 24
   at OnlineShopPoc.SalesNotificatorBackgroundService.ExecuteAsync(CancellationToken cancellationToken) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\SalesNotificatorBackgroundService.cs:line 38
2023-06-25 20:17:21.649 +03:00 [INF] Sending email to IppolitovIS@yandex.ru, with Акции!, Промо акции!.
2023-06-25 20:17:30.100 +03:00 [WRN] Повторная отправка сообщения: IppolitovIS@yandex.ru, номер 2
System.Net.Sockets.SocketException (10061): Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.TaskToApm.End(IAsyncResult asyncResult)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, CancellationToken cancellationToken)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, Int32 timeout, CancellationToken cancellationToken)
   at MailKit.MailService.ConnectNetworkAsync(String host, Int32 port, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.ConnectAsync(String host, Int32 port, SecureSocketOptions options, CancellationToken cancellationToken)
   at OnlineShopPoc.MailKitSmtpEmailSender.EnsureConnectedAndAuthentificatedAsync() in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 55
   at OnlineShopPoc.MailKitSmtpEmailSender.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 46
   at OnlineShopPoc.EmailSenderLoggingDecorator.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\EmailSenderLoggingDecorator.cs:line 24
   at OnlineShopPoc.SalesNotificatorBackgroundService.ExecuteAsync(CancellationToken cancellationToken) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\SalesNotificatorBackgroundService.cs:line 38
2023-06-25 20:17:43.103 +03:00 [INF] Sending email to IppolitovIS@yandex.ru, with Приложение работает, Приложение потребляет 84344832 байт!.
2023-06-25 20:17:51.551 +03:00 [ERR] BackgroundService failed
System.Net.Sockets.SocketException (10061): Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.TaskToApm.End(IAsyncResult asyncResult)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, CancellationToken cancellationToken)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, Int32 timeout, CancellationToken cancellationToken)
   at MailKit.MailService.ConnectNetworkAsync(String host, Int32 port, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.ConnectAsync(String host, Int32 port, SecureSocketOptions options, CancellationToken cancellationToken)
   at OnlineShopPoc.MailKitSmtpEmailSender.EnsureConnectedAndAuthentificatedAsync() in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 55
   at OnlineShopPoc.MailKitSmtpEmailSender.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 46
   at OnlineShopPoc.EmailSenderLoggingDecorator.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\EmailSenderLoggingDecorator.cs:line 24
   at OnlineShopPoc.AppStartedNotificatorBackgroundService.ExecuteAsync(CancellationToken stoppingToken) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\AppStartedNotificatorBackgroundService.cs:line 40
   at OnlineShopPoc.AppStartedNotificatorBackgroundService.ExecuteAsync(CancellationToken stoppingToken) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\AppStartedNotificatorBackgroundService.cs:line 41
   at OnlineShopPoc.AppStartedNotificatorBackgroundService.ExecuteAsync(CancellationToken stoppingToken) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\AppStartedNotificatorBackgroundService.cs:line 31
   at Microsoft.Extensions.Hosting.Internal.Host.TryExecuteBackgroundServiceAsync(BackgroundService backgroundService)
2023-06-25 20:17:51.558 +03:00 [FTL] The HostOptions.BackgroundServiceExceptionBehavior is configured to StopHost. A BackgroundService has thrown an unhandled exception, and the IHost instance is stopping. To avoid this behavior, configure this to Ignore; however the BackgroundService will not be restarted.
System.Net.Sockets.SocketException (10061): Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.TaskToApm.End(IAsyncResult asyncResult)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, CancellationToken cancellationToken)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, Int32 timeout, CancellationToken cancellationToken)
   at MailKit.MailService.ConnectNetworkAsync(String host, Int32 port, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.ConnectAsync(String host, Int32 port, SecureSocketOptions options, CancellationToken cancellationToken)
   at OnlineShopPoc.MailKitSmtpEmailSender.EnsureConnectedAndAuthentificatedAsync() in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 55
   at OnlineShopPoc.MailKitSmtpEmailSender.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 46
   at OnlineShopPoc.EmailSenderLoggingDecorator.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\EmailSenderLoggingDecorator.cs:line 24
   at OnlineShopPoc.AppStartedNotificatorBackgroundService.ExecuteAsync(CancellationToken stoppingToken) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\AppStartedNotificatorBackgroundService.cs:line 40
   at OnlineShopPoc.AppStartedNotificatorBackgroundService.ExecuteAsync(CancellationToken stoppingToken) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\AppStartedNotificatorBackgroundService.cs:line 41
   at OnlineShopPoc.AppStartedNotificatorBackgroundService.ExecuteAsync(CancellationToken stoppingToken) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\AppStartedNotificatorBackgroundService.cs:line 31
   at Microsoft.Extensions.Hosting.Internal.Host.TryExecuteBackgroundServiceAsync(BackgroundService backgroundService)
2023-06-25 20:17:51.564 +03:00 [INF] Application is shutting down...
2023-06-25 20:17:51.576 +03:00 [INF] Shut down complete
2023-06-25 20:18:52.572 +03:00 [INF] Sending email to IppolitovIS@yandex.ru, with Акции!, Промо акции!.
2023-06-25 20:18:52.695 +03:00 [INF] Now listening on: https://localhost:7142
2023-06-25 20:18:52.698 +03:00 [INF] Now listening on: http://localhost:5041
2023-06-25 20:18:52.698 +03:00 [INF] App Started
2023-06-25 20:18:52.699 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-25 20:18:52.700 +03:00 [INF] Hosting environment: Development
2023-06-25 20:18:52.700 +03:00 [INF] Content root path: D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc
2023-06-25 20:18:53.234 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7142/swagger/index.html - -
2023-06-25 20:18:53.382 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7142/swagger/index.html - - - 200 - text/html;charset=utf-8 149.9425ms
2023-06-25 20:18:53.505 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7142/swagger/v1/swagger.json - -
2023-06-25 20:18:53.511 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2023-06-25 20:18:53.604 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7142/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 99.1734ms
2023-06-25 20:19:01.133 +03:00 [WRN] Повторная отправка сообщения: IppolitovIS@yandex.ru, номер 1
System.Net.Sockets.SocketException (10061): Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.TaskToApm.End(IAsyncResult asyncResult)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, CancellationToken cancellationToken)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, Int32 timeout, CancellationToken cancellationToken)
   at MailKit.MailService.ConnectNetworkAsync(String host, Int32 port, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.ConnectAsync(String host, Int32 port, SecureSocketOptions options, CancellationToken cancellationToken)
   at OnlineShopPoc.MailKitSmtpEmailSender.EnsureConnectedAndAuthentificatedAsync() in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 55
   at OnlineShopPoc.MailKitSmtpEmailSender.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 46
   at OnlineShopPoc.EmailSenderLoggingDecorator.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\EmailSenderLoggingDecorator.cs:line 24
   at OnlineShopPoc.SalesNotificatorBackgroundService.ExecuteAsync(CancellationToken cancellationToken) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\SalesNotificatorBackgroundService.cs:line 38
2023-06-25 20:19:01.152 +03:00 [INF] Sending email to IppolitovIS@yandex.ru, with Акции!, Промо акции!.
2023-06-25 20:19:09.561 +03:00 [WRN] Повторная отправка сообщения: IppolitovIS@yandex.ru, номер 2
System.Net.Sockets.SocketException (10061): Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.TaskToApm.End(IAsyncResult asyncResult)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, CancellationToken cancellationToken)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, Int32 timeout, CancellationToken cancellationToken)
   at MailKit.MailService.ConnectNetworkAsync(String host, Int32 port, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.ConnectAsync(String host, Int32 port, SecureSocketOptions options, CancellationToken cancellationToken)
   at OnlineShopPoc.MailKitSmtpEmailSender.EnsureConnectedAndAuthentificatedAsync() in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 55
   at OnlineShopPoc.MailKitSmtpEmailSender.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 46
   at OnlineShopPoc.EmailSenderLoggingDecorator.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\EmailSenderLoggingDecorator.cs:line 24
   at OnlineShopPoc.SalesNotificatorBackgroundService.ExecuteAsync(CancellationToken cancellationToken) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\SalesNotificatorBackgroundService.cs:line 38
2023-06-25 20:19:22.573 +03:00 [INF] Sending email to IppolitovIS@yandex.ru, with Приложение работает, Приложение потребляет 84332544 байт!.
2023-06-25 20:19:30.983 +03:00 [ERR] BackgroundService failed
System.Net.Sockets.SocketException (10061): Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.TaskToApm.End(IAsyncResult asyncResult)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, CancellationToken cancellationToken)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, Int32 timeout, CancellationToken cancellationToken)
   at MailKit.MailService.ConnectNetworkAsync(String host, Int32 port, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.ConnectAsync(String host, Int32 port, SecureSocketOptions options, CancellationToken cancellationToken)
   at OnlineShopPoc.MailKitSmtpEmailSender.EnsureConnectedAndAuthentificatedAsync() in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 55
   at OnlineShopPoc.MailKitSmtpEmailSender.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 46
   at OnlineShopPoc.EmailSenderLoggingDecorator.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\EmailSenderLoggingDecorator.cs:line 24
   at OnlineShopPoc.AppStartedNotificatorBackgroundService.ExecuteAsync(CancellationToken stoppingToken) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\AppStartedNotificatorBackgroundService.cs:line 40
   at OnlineShopPoc.AppStartedNotificatorBackgroundService.ExecuteAsync(CancellationToken stoppingToken) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\AppStartedNotificatorBackgroundService.cs:line 41
   at OnlineShopPoc.AppStartedNotificatorBackgroundService.ExecuteAsync(CancellationToken stoppingToken) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\AppStartedNotificatorBackgroundService.cs:line 31
   at Microsoft.Extensions.Hosting.Internal.Host.TryExecuteBackgroundServiceAsync(BackgroundService backgroundService)
2023-06-25 20:19:30.989 +03:00 [FTL] The HostOptions.BackgroundServiceExceptionBehavior is configured to StopHost. A BackgroundService has thrown an unhandled exception, and the IHost instance is stopping. To avoid this behavior, configure this to Ignore; however the BackgroundService will not be restarted.
System.Net.Sockets.SocketException (10061): Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.TaskToApm.End(IAsyncResult asyncResult)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, CancellationToken cancellationToken)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, Int32 timeout, CancellationToken cancellationToken)
   at MailKit.MailService.ConnectNetworkAsync(String host, Int32 port, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.ConnectAsync(String host, Int32 port, SecureSocketOptions options, CancellationToken cancellationToken)
   at OnlineShopPoc.MailKitSmtpEmailSender.EnsureConnectedAndAuthentificatedAsync() in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 55
   at OnlineShopPoc.MailKitSmtpEmailSender.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 46
   at OnlineShopPoc.EmailSenderLoggingDecorator.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\EmailSenderLoggingDecorator.cs:line 24
   at OnlineShopPoc.AppStartedNotificatorBackgroundService.ExecuteAsync(CancellationToken stoppingToken) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\AppStartedNotificatorBackgroundService.cs:line 40
   at OnlineShopPoc.AppStartedNotificatorBackgroundService.ExecuteAsync(CancellationToken stoppingToken) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\AppStartedNotificatorBackgroundService.cs:line 41
   at OnlineShopPoc.AppStartedNotificatorBackgroundService.ExecuteAsync(CancellationToken stoppingToken) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\AppStartedNotificatorBackgroundService.cs:line 31
   at Microsoft.Extensions.Hosting.Internal.Host.TryExecuteBackgroundServiceAsync(BackgroundService backgroundService)
2023-06-25 20:19:30.994 +03:00 [INF] Application is shutting down...
2023-06-25 20:19:31.007 +03:00 [INF] Shut down complete
2023-06-25 20:20:24.707 +03:00 [INF] Sending email to IppolitovIS@yandex.ru, with Акции!, Промо акции!.
2023-06-25 20:20:24.832 +03:00 [INF] Now listening on: https://localhost:7142
2023-06-25 20:20:24.834 +03:00 [INF] Now listening on: http://localhost:5041
2023-06-25 20:20:24.835 +03:00 [INF] App Started
2023-06-25 20:20:24.835 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-25 20:20:24.836 +03:00 [INF] Hosting environment: Development
2023-06-25 20:20:24.836 +03:00 [INF] Content root path: D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc
2023-06-25 20:20:25.271 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7142/swagger/index.html - -
2023-06-25 20:20:25.419 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7142/swagger/index.html - - - 200 - text/html;charset=utf-8 149.5655ms
2023-06-25 20:20:25.541 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7142/swagger/v1/swagger.json - -
2023-06-25 20:20:25.548 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2023-06-25 20:20:25.643 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7142/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 101.8629ms
2023-06-25 20:20:33.211 +03:00 [WRN] Повторная отправка сообщения: IppolitovIS@yandex.ru, номер 1
System.Net.Sockets.SocketException (10061): Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.TaskToApm.End(IAsyncResult asyncResult)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, CancellationToken cancellationToken)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, Int32 timeout, CancellationToken cancellationToken)
   at MailKit.MailService.ConnectNetworkAsync(String host, Int32 port, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.ConnectAsync(String host, Int32 port, SecureSocketOptions options, CancellationToken cancellationToken)
   at OnlineShopPoc.MailKitSmtpEmailSender.EnsureConnectedAndAuthentificatedAsync() in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 55
   at OnlineShopPoc.MailKitSmtpEmailSender.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 46
   at OnlineShopPoc.EmailSenderLoggingDecorator.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\EmailSenderLoggingDecorator.cs:line 24
   at OnlineShopPoc.SalesNotificatorBackgroundService.ExecuteAsync(CancellationToken cancellationToken) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\SalesNotificatorBackgroundService.cs:line 38
2023-06-25 20:20:33.229 +03:00 [INF] Sending email to IppolitovIS@yandex.ru, with Акции!, Промо акции!.
2023-06-25 20:20:41.680 +03:00 [WRN] Повторная отправка сообщения: IppolitovIS@yandex.ru, номер 2
System.Net.Sockets.SocketException (10061): Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.TaskToApm.End(IAsyncResult asyncResult)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, CancellationToken cancellationToken)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, Int32 timeout, CancellationToken cancellationToken)
   at MailKit.MailService.ConnectNetworkAsync(String host, Int32 port, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.ConnectAsync(String host, Int32 port, SecureSocketOptions options, CancellationToken cancellationToken)
   at OnlineShopPoc.MailKitSmtpEmailSender.EnsureConnectedAndAuthentificatedAsync() in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 55
   at OnlineShopPoc.MailKitSmtpEmailSender.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 46
   at OnlineShopPoc.EmailSenderLoggingDecorator.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\EmailSenderLoggingDecorator.cs:line 24
   at OnlineShopPoc.SalesNotificatorBackgroundService.ExecuteAsync(CancellationToken cancellationToken) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\SalesNotificatorBackgroundService.cs:line 38
2023-06-25 20:22:06.237 +03:00 [INF] Application is shutting down...
2023-06-25 20:22:06.251 +03:00 [INF] Shut down complete
2023-06-25 20:22:14.079 +03:00 [INF] Sending email to IppolitovIS@yandex.ru, with Акции!, Промо акции!.
2023-06-25 20:22:14.205 +03:00 [INF] Now listening on: https://localhost:7142
2023-06-25 20:22:14.207 +03:00 [INF] Now listening on: http://localhost:5041
2023-06-25 20:22:14.207 +03:00 [INF] App Started
2023-06-25 20:22:14.208 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-25 20:22:14.208 +03:00 [INF] Hosting environment: Development
2023-06-25 20:22:14.209 +03:00 [INF] Content root path: D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc
2023-06-25 20:22:14.615 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7142/swagger/index.html - -
2023-06-25 20:22:14.762 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7142/swagger/index.html - - - 200 - text/html;charset=utf-8 148.6177ms
2023-06-25 20:22:14.886 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7142/swagger/v1/swagger.json - -
2023-06-25 20:22:14.894 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2023-06-25 20:22:14.989 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7142/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 103.5173ms
2023-06-25 20:22:22.603 +03:00 [WRN] Повторная отправка сообщения: IppolitovIS@yandex.ru, номер 1
System.Net.Sockets.SocketException (10061): Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.TaskToApm.End(IAsyncResult asyncResult)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, CancellationToken cancellationToken)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, Int32 timeout, CancellationToken cancellationToken)
   at MailKit.MailService.ConnectNetworkAsync(String host, Int32 port, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.ConnectAsync(String host, Int32 port, SecureSocketOptions options, CancellationToken cancellationToken)
   at OnlineShopPoc.MailKitSmtpEmailSender.EnsureConnectedAndAuthentificatedAsync() in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 55
   at OnlineShopPoc.MailKitSmtpEmailSender.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 46
   at OnlineShopPoc.EmailSenderLoggingDecorator.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\EmailSenderLoggingDecorator.cs:line 24
   at OnlineShopPoc.SalesNotificatorBackgroundService.ExecuteAsync(CancellationToken cancellationToken) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\SalesNotificatorBackgroundService.cs:line 38
2023-06-25 20:22:22.624 +03:00 [INF] Sending email to IppolitovIS@yandex.ru, with Акции!, Промо акции!.
2023-06-25 20:22:31.062 +03:00 [WRN] Повторная отправка сообщения: IppolitovIS@yandex.ru, номер 2
System.Net.Sockets.SocketException (10061): Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.TaskToApm.End(IAsyncResult asyncResult)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, CancellationToken cancellationToken)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, Int32 timeout, CancellationToken cancellationToken)
   at MailKit.MailService.ConnectNetworkAsync(String host, Int32 port, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.ConnectAsync(String host, Int32 port, SecureSocketOptions options, CancellationToken cancellationToken)
   at OnlineShopPoc.MailKitSmtpEmailSender.EnsureConnectedAndAuthentificatedAsync() in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 55
   at OnlineShopPoc.MailKitSmtpEmailSender.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 46
   at OnlineShopPoc.EmailSenderLoggingDecorator.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\EmailSenderLoggingDecorator.cs:line 24
   at OnlineShopPoc.SalesNotificatorBackgroundService.ExecuteAsync(CancellationToken cancellationToken) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\SalesNotificatorBackgroundService.cs:line 38
2023-06-25 20:22:31.068 +03:00 [ERR] Ошибка отправка сообщения: IppolitovIS@yandex.ru
System.Net.Sockets.SocketException (10061): Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.TaskToApm.End(IAsyncResult asyncResult)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, CancellationToken cancellationToken)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, Int32 timeout, CancellationToken cancellationToken)
   at MailKit.MailService.ConnectNetworkAsync(String host, Int32 port, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.ConnectAsync(String host, Int32 port, SecureSocketOptions options, CancellationToken cancellationToken)
   at OnlineShopPoc.MailKitSmtpEmailSender.EnsureConnectedAndAuthentificatedAsync() in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 55
   at OnlineShopPoc.MailKitSmtpEmailSender.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 46
   at OnlineShopPoc.EmailSenderLoggingDecorator.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\EmailSenderLoggingDecorator.cs:line 24
   at OnlineShopPoc.SalesNotificatorBackgroundService.ExecuteAsync(CancellationToken cancellationToken) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\SalesNotificatorBackgroundService.cs:line 38
2023-06-25 20:24:16.803 +03:00 [INF] Application is shutting down...
2023-06-25 20:24:16.817 +03:00 [INF] Shut down complete
2023-06-25 20:24:29.695 +03:00 [INF] Sending email to IppolitovIS@yandex.ru, with Акции!, Промо акции!.
2023-06-25 20:24:29.897 +03:00 [INF] Now listening on: https://localhost:7142
2023-06-25 20:24:29.898 +03:00 [INF] Now listening on: http://localhost:5041
2023-06-25 20:24:29.899 +03:00 [INF] App Started
2023-06-25 20:24:29.900 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-25 20:24:29.900 +03:00 [INF] Hosting environment: Development
2023-06-25 20:24:29.900 +03:00 [INF] Content root path: D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc
2023-06-25 20:24:30.554 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7142/swagger/index.html - -
2023-06-25 20:24:30.722 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7142/swagger/index.html - - - 200 - text/html;charset=utf-8 170.1674ms
2023-06-25 20:24:30.842 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7142/swagger/v1/swagger.json - -
2023-06-25 20:24:30.849 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2023-06-25 20:24:30.946 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7142/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 104.1385ms
2023-06-25 20:24:46.932 +03:00 [WRN] Повторная отправка сообщения: IppolitovIS@yandex.ru, номер 1
System.Net.Sockets.SocketException (10061): Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.TaskToApm.End(IAsyncResult asyncResult)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, CancellationToken cancellationToken)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, Int32 timeout, CancellationToken cancellationToken)
   at MailKit.MailService.ConnectNetworkAsync(String host, Int32 port, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.ConnectAsync(String host, Int32 port, SecureSocketOptions options, CancellationToken cancellationToken)
   at OnlineShopPoc.MailKitSmtpEmailSender.EnsureConnectedAndAuthentificatedAsync() in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 55
   at OnlineShopPoc.MailKitSmtpEmailSender.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 46
   at OnlineShopPoc.EmailSenderLoggingDecorator.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\EmailSenderLoggingDecorator.cs:line 24
   at OnlineShopPoc.SalesNotificatorBackgroundService.ExecuteAsync(CancellationToken cancellationToken) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\SalesNotificatorBackgroundService.cs:line 38
2023-06-25 20:24:48.837 +03:00 [INF] Sending email to IppolitovIS@yandex.ru, with Акции!, Промо акции!.
2023-06-25 20:24:58.992 +03:00 [WRN] Повторная отправка сообщения: IppolitovIS@yandex.ru, номер 2
System.Net.Sockets.SocketException (10061): Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.TaskToApm.End(IAsyncResult asyncResult)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, CancellationToken cancellationToken)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, Int32 timeout, CancellationToken cancellationToken)
   at MailKit.MailService.ConnectNetworkAsync(String host, Int32 port, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.ConnectAsync(String host, Int32 port, SecureSocketOptions options, CancellationToken cancellationToken)
   at OnlineShopPoc.MailKitSmtpEmailSender.EnsureConnectedAndAuthentificatedAsync() in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 55
   at OnlineShopPoc.MailKitSmtpEmailSender.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 46
   at OnlineShopPoc.EmailSenderLoggingDecorator.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\EmailSenderLoggingDecorator.cs:line 24
   at OnlineShopPoc.SalesNotificatorBackgroundService.ExecuteAsync(CancellationToken cancellationToken) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\SalesNotificatorBackgroundService.cs:line 38
2023-06-25 20:25:39.070 +03:00 [INF] Sending email to IppolitovIS@yandex.ru, with Акции!, Промо акции!.
2023-06-25 20:25:39.305 +03:00 [INF] Now listening on: https://localhost:7142
2023-06-25 20:25:39.307 +03:00 [INF] Now listening on: http://localhost:5041
2023-06-25 20:25:39.308 +03:00 [INF] App Started
2023-06-25 20:25:39.308 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-25 20:25:39.309 +03:00 [INF] Hosting environment: Development
2023-06-25 20:25:39.309 +03:00 [INF] Content root path: D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc
2023-06-25 20:25:39.534 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7142/swagger/index.html - -
2023-06-25 20:25:39.710 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7142/swagger/index.html - - - 200 - text/html;charset=utf-8 177.4595ms
2023-06-25 20:25:39.827 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7142/swagger/v1/swagger.json - -
2023-06-25 20:25:39.834 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2023-06-25 20:25:39.939 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7142/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 111.8904ms
2023-06-25 20:25:48.808 +03:00 [WRN] Повторная отправка сообщения: IppolitovIS@yandex.ru, номер 1
System.Net.Sockets.SocketException (10061): Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.TaskToApm.End(IAsyncResult asyncResult)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, CancellationToken cancellationToken)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, Int32 timeout, CancellationToken cancellationToken)
   at MailKit.MailService.ConnectNetworkAsync(String host, Int32 port, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.ConnectAsync(String host, Int32 port, SecureSocketOptions options, CancellationToken cancellationToken)
   at OnlineShopPoc.MailKitSmtpEmailSender.EnsureConnectedAndAuthentificatedAsync() in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 55
   at OnlineShopPoc.MailKitSmtpEmailSender.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 46
   at OnlineShopPoc.EmailSenderLoggingDecorator.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\EmailSenderLoggingDecorator.cs:line 24
   at OnlineShopPoc.SalesNotificatorBackgroundService.ExecuteAsync(CancellationToken cancellationToken) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\SalesNotificatorBackgroundService.cs:line 38
2023-06-25 20:25:50.413 +03:00 [INF] Sending email to IppolitovIS@yandex.ru, with Акции!, Промо акции!.
2023-06-25 20:26:02.668 +03:00 [WRN] Повторная отправка сообщения: IppolitovIS@yandex.ru, номер 2
System.Net.Sockets.SocketException (10061): Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.TaskToApm.End(IAsyncResult asyncResult)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, CancellationToken cancellationToken)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, Int32 timeout, CancellationToken cancellationToken)
   at MailKit.MailService.ConnectNetworkAsync(String host, Int32 port, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.ConnectAsync(String host, Int32 port, SecureSocketOptions options, CancellationToken cancellationToken)
   at OnlineShopPoc.MailKitSmtpEmailSender.EnsureConnectedAndAuthentificatedAsync() in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 55
   at OnlineShopPoc.MailKitSmtpEmailSender.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 46
   at OnlineShopPoc.EmailSenderLoggingDecorator.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\EmailSenderLoggingDecorator.cs:line 24
   at OnlineShopPoc.SalesNotificatorBackgroundService.ExecuteAsync(CancellationToken cancellationToken) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\SalesNotificatorBackgroundService.cs:line 38
2023-06-25 20:27:26.833 +03:00 [INF] Sending email to IppolitovIS@yandex.ru, with Акции!, Промо акции!.
2023-06-25 20:27:26.965 +03:00 [INF] Now listening on: https://localhost:7142
2023-06-25 20:27:26.967 +03:00 [INF] Now listening on: http://localhost:5041
2023-06-25 20:27:26.967 +03:00 [INF] App Started
2023-06-25 20:27:26.968 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-25 20:27:26.968 +03:00 [INF] Hosting environment: Development
2023-06-25 20:27:26.969 +03:00 [INF] Content root path: D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc
2023-06-25 20:27:27.475 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7142/swagger/index.html - -
2023-06-25 20:27:27.629 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7142/swagger/index.html - - - 200 - text/html;charset=utf-8 154.3907ms
2023-06-25 20:27:27.748 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7142/swagger/v1/swagger.json - -
2023-06-25 20:27:27.755 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2023-06-25 20:27:27.850 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7142/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 102.3223ms
2023-06-25 20:27:30.843 +03:00 [INF] Application is shutting down...
2023-06-25 20:27:35.405 +03:00 [WRN] Повторная отправка сообщения: IppolitovIS@yandex.ru, номер 1
System.Net.Sockets.SocketException (10061): Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.TaskToApm.End(IAsyncResult asyncResult)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, CancellationToken cancellationToken)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, Int32 timeout, CancellationToken cancellationToken)
   at MailKit.MailService.ConnectNetworkAsync(String host, Int32 port, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.ConnectAsync(String host, Int32 port, SecureSocketOptions options, CancellationToken cancellationToken)
   at OnlineShopPoc.MailKitSmtpEmailSender.EnsureConnectedAndAuthentificatedAsync() in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 55
   at OnlineShopPoc.MailKitSmtpEmailSender.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 46
   at OnlineShopPoc.EmailSenderLoggingDecorator.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\EmailSenderLoggingDecorator.cs:line 24
   at OnlineShopPoc.SalesNotificatorBackgroundService.ExecuteAsync(CancellationToken cancellationToken) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\SalesNotificatorBackgroundService.cs:line 38
2023-06-25 20:27:35.424 +03:00 [INF] Sending email to IppolitovIS@yandex.ru, with Акции!, Промо акции!.
2023-06-25 20:27:51.550 +03:00 [INF] Sending email to IppolitovIS@yandex.ru, with Акции!, Промо акции!.
2023-06-25 20:27:51.780 +03:00 [INF] Now listening on: https://localhost:7142
2023-06-25 20:27:51.782 +03:00 [INF] Now listening on: http://localhost:5041
2023-06-25 20:27:51.783 +03:00 [INF] App Started
2023-06-25 20:27:51.784 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-25 20:27:51.784 +03:00 [INF] Hosting environment: Development
2023-06-25 20:27:51.785 +03:00 [INF] Content root path: D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc
2023-06-25 20:27:52.228 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7142/swagger/index.html - -
2023-06-25 20:27:52.407 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7142/swagger/index.html - - - 200 - text/html;charset=utf-8 181.0899ms
2023-06-25 20:27:52.529 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7142/swagger/v1/swagger.json - -
2023-06-25 20:27:52.536 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2023-06-25 20:27:52.635 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7142/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 106.0570ms
2023-06-25 20:28:01.134 +03:00 [WRN] Повторная отправка сообщения: IppolitovIS@yandex.ru, номер 1
System.Net.Sockets.SocketException (10061): Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.TaskToApm.End(IAsyncResult asyncResult)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, CancellationToken cancellationToken)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, Int32 timeout, CancellationToken cancellationToken)
   at MailKit.MailService.ConnectNetworkAsync(String host, Int32 port, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.ConnectAsync(String host, Int32 port, SecureSocketOptions options, CancellationToken cancellationToken)
   at OnlineShopPoc.MailKitSmtpEmailSender.EnsureConnectedAndAuthentificatedAsync() in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 55
   at OnlineShopPoc.MailKitSmtpEmailSender.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 46
   at OnlineShopPoc.EmailSenderLoggingDecorator.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\EmailSenderLoggingDecorator.cs:line 24
   at OnlineShopPoc.SalesNotificatorBackgroundService.ExecuteAsync(CancellationToken cancellationToken) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\SalesNotificatorBackgroundService.cs:line 38
2023-06-25 20:28:08.441 +03:00 [INF] Sending email to IppolitovIS@yandex.ru, with Акции!, Промо акции!.
2023-06-25 20:28:20.404 +03:00 [WRN] Повторная отправка сообщения: IppolitovIS@yandex.ru, номер 2
System.Net.Sockets.SocketException (10061): Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.TaskToApm.End(IAsyncResult asyncResult)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, CancellationToken cancellationToken)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, Int32 timeout, CancellationToken cancellationToken)
   at MailKit.MailService.ConnectNetworkAsync(String host, Int32 port, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.ConnectAsync(String host, Int32 port, SecureSocketOptions options, CancellationToken cancellationToken)
   at OnlineShopPoc.MailKitSmtpEmailSender.EnsureConnectedAndAuthentificatedAsync() in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 55
   at OnlineShopPoc.MailKitSmtpEmailSender.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 46
   at OnlineShopPoc.EmailSenderLoggingDecorator.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\EmailSenderLoggingDecorator.cs:line 24
   at OnlineShopPoc.SalesNotificatorBackgroundService.ExecuteAsync(CancellationToken cancellationToken) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\SalesNotificatorBackgroundService.cs:line 38
2023-06-25 20:28:21.821 +03:00 [INF] Sending email to IppolitovIS@yandex.ru, with Акции!, Промо акции!.
2023-06-25 20:28:34.152 +03:00 [ERR] Ошибка отправка сообщения: IppolitovIS@yandex.ru
System.Net.Sockets.SocketException (10061): Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.TaskToApm.End(IAsyncResult asyncResult)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, CancellationToken cancellationToken)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, Int32 timeout, CancellationToken cancellationToken)
   at MailKit.MailService.ConnectNetworkAsync(String host, Int32 port, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.ConnectAsync(String host, Int32 port, SecureSocketOptions options, CancellationToken cancellationToken)
   at OnlineShopPoc.MailKitSmtpEmailSender.EnsureConnectedAndAuthentificatedAsync() in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 55
   at OnlineShopPoc.MailKitSmtpEmailSender.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 46
   at OnlineShopPoc.EmailSenderLoggingDecorator.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\EmailSenderLoggingDecorator.cs:line 24
   at OnlineShopPoc.SalesNotificatorBackgroundService.ExecuteAsync(CancellationToken cancellationToken) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\SalesNotificatorBackgroundService.cs:line 38
2023-06-25 20:28:35.501 +03:00 [WRN] Повторная отправка сообщения: IppolitovIS@yandex.ru, номер 3
System.Net.Sockets.SocketException (10061): Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.TaskToApm.End(IAsyncResult asyncResult)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, CancellationToken cancellationToken)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, Int32 timeout, CancellationToken cancellationToken)
   at MailKit.MailService.ConnectNetworkAsync(String host, Int32 port, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.ConnectAsync(String host, Int32 port, SecureSocketOptions options, CancellationToken cancellationToken)
   at OnlineShopPoc.MailKitSmtpEmailSender.EnsureConnectedAndAuthentificatedAsync() in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 55
   at OnlineShopPoc.MailKitSmtpEmailSender.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 46
   at OnlineShopPoc.EmailSenderLoggingDecorator.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\EmailSenderLoggingDecorator.cs:line 24
   at OnlineShopPoc.SalesNotificatorBackgroundService.ExecuteAsync(CancellationToken cancellationToken) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\SalesNotificatorBackgroundService.cs:line 38
2023-06-25 20:29:07.321 +03:00 [INF] Sending email to IppolitovIS@yandex.ru, with Акции!, Промо акции!.
2023-06-25 20:29:07.445 +03:00 [INF] Now listening on: https://localhost:7142
2023-06-25 20:29:07.447 +03:00 [INF] Now listening on: http://localhost:5041
2023-06-25 20:29:07.448 +03:00 [INF] App Started
2023-06-25 20:29:07.448 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2023-06-25 20:29:07.449 +03:00 [INF] Hosting environment: Development
2023-06-25 20:29:07.449 +03:00 [INF] Content root path: D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc
2023-06-25 20:29:07.949 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7142/swagger/index.html - -
2023-06-25 20:29:08.102 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7142/swagger/index.html - - - 200 - text/html;charset=utf-8 154.8032ms
2023-06-25 20:29:08.228 +03:00 [INF] Request starting HTTP/2 GET https://localhost:7142/swagger/v1/swagger.json - -
2023-06-25 20:29:08.236 +03:00 [INF] No action descriptors found. This may indicate an incorrectly configured application or missing application parts. To learn more, visit https://aka.ms/aspnet/mvc/app-parts
2023-06-25 20:29:08.330 +03:00 [INF] Request finished HTTP/2 GET https://localhost:7142/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 102.6894ms
2023-06-25 20:29:15.878 +03:00 [WRN] Повторная отправка сообщения: IppolitovIS@yandex.ru, номер 1
System.Net.Sockets.SocketException (10061): Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.TaskToApm.End(IAsyncResult asyncResult)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, CancellationToken cancellationToken)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, Int32 timeout, CancellationToken cancellationToken)
   at MailKit.MailService.ConnectNetworkAsync(String host, Int32 port, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.ConnectAsync(String host, Int32 port, SecureSocketOptions options, CancellationToken cancellationToken)
   at OnlineShopPoc.MailKitSmtpEmailSender.EnsureConnectedAndAuthentificatedAsync() in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 55
   at OnlineShopPoc.MailKitSmtpEmailSender.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 46
   at OnlineShopPoc.EmailSenderLoggingDecorator.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\EmailSenderLoggingDecorator.cs:line 24
   at OnlineShopPoc.SalesNotificatorBackgroundService.ExecuteAsync(CancellationToken cancellationToken) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\SalesNotificatorBackgroundService.cs:line 38
2023-06-25 20:29:15.898 +03:00 [INF] Sending email to IppolitovIS@yandex.ru, with Акции!, Промо акции!.
2023-06-25 20:29:24.348 +03:00 [WRN] Повторная отправка сообщения: IppolitovIS@yandex.ru, номер 2
System.Net.Sockets.SocketException (10061): Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.TaskToApm.End(IAsyncResult asyncResult)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, CancellationToken cancellationToken)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, Int32 timeout, CancellationToken cancellationToken)
   at MailKit.MailService.ConnectNetworkAsync(String host, Int32 port, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.ConnectAsync(String host, Int32 port, SecureSocketOptions options, CancellationToken cancellationToken)
   at OnlineShopPoc.MailKitSmtpEmailSender.EnsureConnectedAndAuthentificatedAsync() in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 55
   at OnlineShopPoc.MailKitSmtpEmailSender.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 46
   at OnlineShopPoc.EmailSenderLoggingDecorator.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\EmailSenderLoggingDecorator.cs:line 24
   at OnlineShopPoc.SalesNotificatorBackgroundService.ExecuteAsync(CancellationToken cancellationToken) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\SalesNotificatorBackgroundService.cs:line 38
2023-06-25 20:29:24.354 +03:00 [INF] Sending email to IppolitovIS@yandex.ru, with Акции!, Промо акции!.
2023-06-25 20:29:32.770 +03:00 [ERR] Ошибка отправка сообщения: IppolitovIS@yandex.ru
System.Net.Sockets.SocketException (10061): Подключение не установлено, т.к. конечный компьютер отверг запрос на подключение.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Threading.Tasks.TaskToApm.End(IAsyncResult asyncResult)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, CancellationToken cancellationToken)
   at MailKit.Net.SocketUtils.ConnectAsync(String host, Int32 port, IPEndPoint localEndPoint, Int32 timeout, CancellationToken cancellationToken)
   at MailKit.MailService.ConnectNetworkAsync(String host, Int32 port, CancellationToken cancellationToken)
   at MailKit.Net.Smtp.SmtpClient.ConnectAsync(String host, Int32 port, SecureSocketOptions options, CancellationToken cancellationToken)
   at OnlineShopPoc.MailKitSmtpEmailSender.EnsureConnectedAndAuthentificatedAsync() in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 55
   at OnlineShopPoc.MailKitSmtpEmailSender.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\MailKitSmtpEmailSender.cs:line 46
   at OnlineShopPoc.EmailSenderLoggingDecorator.SendEmailAsync(String recepientEmail, String subject, String body) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\EmailSenderLoggingDecorator.cs:line 24
   at OnlineShopPoc.SalesNotificatorBackgroundService.ExecuteAsync(CancellationToken cancellationToken) in D:\ITStep\ASP.NET_Core\OnlineShopPoc\OnlineShopPoc\SalesNotificatorBackgroundService.cs:line 38
2023-06-25 20:33:29.147 +03:00 [INF] Application is shutting down...
2023-06-25 20:33:29.159 +03:00 [INF] Shut down complete
